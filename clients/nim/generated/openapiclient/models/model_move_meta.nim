#
# PokéAPI
# 
# All the Pokémon data you'll ever need in one place, easily accessible through a modern free open-source RESTful API.  ## What is this?  This is a full RESTful API linked to an extensive database detailing everything about the Pokémon main game series.  We've covered everything from Pokémon to Berry Flavors.  ## Where do I start?  We have awesome [documentation](https://pokeapi.co/docs/v2) on how to use this API. It takes minutes to get started.  This API will always be publicly available and will never require any extensive setup process to consume.  Created by [**Paul Hallett**(]https://github.com/phalt) and other [**PokéAPI contributors***](https://github.com/PokeAPI/pokeapi#contributing) around the world. Pokémon and Pokémon character names are trademarks of Nintendo.     
# The version of the OpenAPI document: 2.7.0
# Contact: blah+oapicf@cliffano.com
# Generated by: https://openapi-generator.tech
#

import json
import tables
import marshal
import options

import model_move_meta_ailment_summary
import model_move_meta_category_summary

type MoveMeta* = object
  ## 
  ailment*: MoveMetaAilmentSummary
  category*: MoveMetaCategorySummary
  minHits*: Option[int]
  maxHits*: Option[int]
  minTurns*: Option[int]
  maxTurns*: Option[int]
  drain*: Option[int]
  healing*: Option[int]
  critRate*: Option[int]
  ailmentChance*: Option[int]
  flinchChance*: Option[int]
  statChance*: Option[int]


# Custom JSON deserialization for MoveMeta with custom field names
proc to*(node: JsonNode, T: typedesc[MoveMeta]): MoveMeta =
  result = MoveMeta()
  if node.kind == JObject:
    if node.hasKey("ailment"):
      result.ailment = to(node["ailment"], MoveMetaAilmentSummary)
    if node.hasKey("category"):
      result.category = to(node["category"], MoveMetaCategorySummary)
    if node.hasKey("min_hits") and node["min_hits"].kind != JNull:
      result.minHits = some(to(node["min_hits"], typeof(result.minHits.get())))
    if node.hasKey("max_hits") and node["max_hits"].kind != JNull:
      result.maxHits = some(to(node["max_hits"], typeof(result.maxHits.get())))
    if node.hasKey("min_turns") and node["min_turns"].kind != JNull:
      result.minTurns = some(to(node["min_turns"], typeof(result.minTurns.get())))
    if node.hasKey("max_turns") and node["max_turns"].kind != JNull:
      result.maxTurns = some(to(node["max_turns"], typeof(result.maxTurns.get())))
    if node.hasKey("drain") and node["drain"].kind != JNull:
      result.drain = some(to(node["drain"], typeof(result.drain.get())))
    if node.hasKey("healing") and node["healing"].kind != JNull:
      result.healing = some(to(node["healing"], typeof(result.healing.get())))
    if node.hasKey("crit_rate") and node["crit_rate"].kind != JNull:
      result.critRate = some(to(node["crit_rate"], typeof(result.critRate.get())))
    if node.hasKey("ailment_chance") and node["ailment_chance"].kind != JNull:
      result.ailmentChance = some(to(node["ailment_chance"], typeof(result.ailmentChance.get())))
    if node.hasKey("flinch_chance") and node["flinch_chance"].kind != JNull:
      result.flinchChance = some(to(node["flinch_chance"], typeof(result.flinchChance.get())))
    if node.hasKey("stat_chance") and node["stat_chance"].kind != JNull:
      result.statChance = some(to(node["stat_chance"], typeof(result.statChance.get())))

# Custom JSON serialization for MoveMeta with custom field names
proc `%`*(obj: MoveMeta): JsonNode =
  result = newJObject()
  result["ailment"] = %obj.ailment
  result["category"] = %obj.category
  if obj.minHits.isSome():
    result["min_hits"] = %obj.minHits.get()
  if obj.maxHits.isSome():
    result["max_hits"] = %obj.maxHits.get()
  if obj.minTurns.isSome():
    result["min_turns"] = %obj.minTurns.get()
  if obj.maxTurns.isSome():
    result["max_turns"] = %obj.maxTurns.get()
  if obj.drain.isSome():
    result["drain"] = %obj.drain.get()
  if obj.healing.isSome():
    result["healing"] = %obj.healing.get()
  if obj.critRate.isSome():
    result["crit_rate"] = %obj.critRate.get()
  if obj.ailmentChance.isSome():
    result["ailment_chance"] = %obj.ailmentChance.get()
  if obj.flinchChance.isSome():
    result["flinch_chance"] = %obj.flinchChance.get()
  if obj.statChance.isSome():
    result["stat_chance"] = %obj.statChance.get()

