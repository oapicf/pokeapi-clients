#
# PokéAPI
# 
# All the Pokémon data you'll ever need in one place, easily accessible through a modern free open-source RESTful API.  ## What is this?  This is a full RESTful API linked to an extensive database detailing everything about the Pokémon main game series.  We've covered everything from Pokémon to Berry Flavors.  ## Where do I start?  We have awesome [documentation](https://pokeapi.co/docs/v2) on how to use this API. It takes minutes to get started.  This API will always be publicly available and will never require any extensive setup process to consume.  Created by [**Paul Hallett**(]https://github.com/phalt) and other [**PokéAPI contributors***](https://github.com/PokeAPI/pokeapi#contributing) around the world. Pokémon and Pokémon character names are trademarks of Nintendo.     
# The version of the OpenAPI document: 2.7.0
# Contact: blah+oapicf@cliffano.com
# Generated by: https://openapi-generator.tech
#

import json
import tables
import marshal
import options

import model_ability_detail_pokemon_inner_pokemon
import model_evolution_chain_summary
import model_generation_summary
import model_growth_rate_summary
import model_pokemon_color_summary
import model_pokemon_dex_entry
import model_pokemon_form_detail_form_names_inner
import model_pokemon_habitat_summary
import model_pokemon_shape_summary
import model_pokemon_species_description
import model_pokemon_species_detail_genera_inner
import model_pokemon_species_detail_pal_park_encounters_inner
import model_pokemon_species_detail_varieties_inner
import model_pokemon_species_flavor_text
import model_pokemon_species_summary

type PokemonSpeciesDetail* = object
  ## 
  id*: int
  name*: string
  order*: Option[int]
  genderRate*: Option[int]
  captureRate*: Option[int]
  baseHappiness*: Option[int]
  isBaby*: Option[bool]
  isLegendary*: Option[bool]
  isMythical*: Option[bool]
  hatchCounter*: Option[int]
  hasGenderDifferences*: Option[bool]
  formsSwitchable*: Option[bool]
  growthRate*: GrowthRateSummary
  pokedexNumbers*: seq[PokemonDexEntry]
  eggGroups*: seq[AbilityDetail_pokemon_inner_pokemon]
  color*: PokemonColorSummary
  shape*: PokemonShapeSummary
  evolvesFromSpecies*: PokemonSpeciesSummary
  evolutionChain*: EvolutionChainSummary
  habitat*: PokemonHabitatSummary
  generation*: GenerationSummary
  names*: seq[PokemonFormDetail_form_names_inner]
  palParkEncounters*: seq[PokemonSpeciesDetail_pal_park_encounters_inner]
  formDescriptions*: seq[PokemonSpeciesDescription]
  flavorTextEntries*: seq[PokemonSpeciesFlavorText]
  genera*: seq[PokemonSpeciesDetail_genera_inner]
  varieties*: seq[PokemonSpeciesDetail_varieties_inner]


# Custom JSON deserialization for PokemonSpeciesDetail with custom field names
proc to*(node: JsonNode, T: typedesc[PokemonSpeciesDetail]): PokemonSpeciesDetail =
  result = PokemonSpeciesDetail()
  if node.kind == JObject:
    if node.hasKey("id"):
      result.id = to(node["id"], int)
    if node.hasKey("name"):
      result.name = to(node["name"], string)
    if node.hasKey("order") and node["order"].kind != JNull:
      result.order = some(to(node["order"], typeof(result.order.get())))
    if node.hasKey("gender_rate") and node["gender_rate"].kind != JNull:
      result.genderRate = some(to(node["gender_rate"], typeof(result.genderRate.get())))
    if node.hasKey("capture_rate") and node["capture_rate"].kind != JNull:
      result.captureRate = some(to(node["capture_rate"], typeof(result.captureRate.get())))
    if node.hasKey("base_happiness") and node["base_happiness"].kind != JNull:
      result.baseHappiness = some(to(node["base_happiness"], typeof(result.baseHappiness.get())))
    if node.hasKey("is_baby") and node["is_baby"].kind != JNull:
      result.isBaby = some(to(node["is_baby"], typeof(result.isBaby.get())))
    if node.hasKey("is_legendary") and node["is_legendary"].kind != JNull:
      result.isLegendary = some(to(node["is_legendary"], typeof(result.isLegendary.get())))
    if node.hasKey("is_mythical") and node["is_mythical"].kind != JNull:
      result.isMythical = some(to(node["is_mythical"], typeof(result.isMythical.get())))
    if node.hasKey("hatch_counter") and node["hatch_counter"].kind != JNull:
      result.hatchCounter = some(to(node["hatch_counter"], typeof(result.hatchCounter.get())))
    if node.hasKey("has_gender_differences") and node["has_gender_differences"].kind != JNull:
      result.hasGenderDifferences = some(to(node["has_gender_differences"], typeof(result.hasGenderDifferences.get())))
    if node.hasKey("forms_switchable") and node["forms_switchable"].kind != JNull:
      result.formsSwitchable = some(to(node["forms_switchable"], typeof(result.formsSwitchable.get())))
    if node.hasKey("growth_rate"):
      result.growthRate = to(node["growth_rate"], GrowthRateSummary)
    if node.hasKey("pokedex_numbers"):
      # Array of types with custom JSON - manually iterate and deserialize
      let arrayNode = node["pokedex_numbers"]
      if arrayNode.kind == JArray:
        result.pokedexNumbers = @[]
        for item in arrayNode.items:
          result.pokedexNumbers.add(to(item, PokemonDexEntry))
    if node.hasKey("egg_groups"):
      result.eggGroups = to(node["egg_groups"], seq[AbilityDetail_pokemon_inner_pokemon])
    if node.hasKey("color"):
      result.color = to(node["color"], PokemonColorSummary)
    if node.hasKey("shape"):
      result.shape = to(node["shape"], PokemonShapeSummary)
    if node.hasKey("evolves_from_species"):
      result.evolvesFromSpecies = to(node["evolves_from_species"], PokemonSpeciesSummary)
    if node.hasKey("evolution_chain"):
      result.evolutionChain = to(node["evolution_chain"], EvolutionChainSummary)
    if node.hasKey("habitat"):
      result.habitat = to(node["habitat"], PokemonHabitatSummary)
    if node.hasKey("generation"):
      result.generation = to(node["generation"], GenerationSummary)
    if node.hasKey("names"):
      result.names = to(node["names"], seq[PokemonFormDetail_form_names_inner])
    if node.hasKey("pal_park_encounters"):
      result.palParkEncounters = to(node["pal_park_encounters"], seq[PokemonSpeciesDetail_pal_park_encounters_inner])
    if node.hasKey("form_descriptions"):
      result.formDescriptions = to(node["form_descriptions"], seq[PokemonSpeciesDescription])
    if node.hasKey("flavor_text_entries"):
      # Array of types with custom JSON - manually iterate and deserialize
      let arrayNode = node["flavor_text_entries"]
      if arrayNode.kind == JArray:
        result.flavorTextEntries = @[]
        for item in arrayNode.items:
          result.flavorTextEntries.add(to(item, PokemonSpeciesFlavorText))
    if node.hasKey("genera"):
      result.genera = to(node["genera"], seq[PokemonSpeciesDetail_genera_inner])
    if node.hasKey("varieties"):
      result.varieties = to(node["varieties"], seq[PokemonSpeciesDetail_varieties_inner])

# Custom JSON serialization for PokemonSpeciesDetail with custom field names
proc `%`*(obj: PokemonSpeciesDetail): JsonNode =
  result = newJObject()
  result["id"] = %obj.id
  result["name"] = %obj.name
  if obj.order.isSome():
    result["order"] = %obj.order.get()
  if obj.genderRate.isSome():
    result["gender_rate"] = %obj.genderRate.get()
  if obj.captureRate.isSome():
    result["capture_rate"] = %obj.captureRate.get()
  if obj.baseHappiness.isSome():
    result["base_happiness"] = %obj.baseHappiness.get()
  if obj.isBaby.isSome():
    result["is_baby"] = %obj.isBaby.get()
  if obj.isLegendary.isSome():
    result["is_legendary"] = %obj.isLegendary.get()
  if obj.isMythical.isSome():
    result["is_mythical"] = %obj.isMythical.get()
  if obj.hatchCounter.isSome():
    result["hatch_counter"] = %obj.hatchCounter.get()
  if obj.hasGenderDifferences.isSome():
    result["has_gender_differences"] = %obj.hasGenderDifferences.get()
  if obj.formsSwitchable.isSome():
    result["forms_switchable"] = %obj.formsSwitchable.get()
  result["growth_rate"] = %obj.growthRate
  result["pokedex_numbers"] = %obj.pokedexNumbers
  result["egg_groups"] = %obj.eggGroups
  result["color"] = %obj.color
  result["shape"] = %obj.shape
  result["evolves_from_species"] = %obj.evolvesFromSpecies
  result["evolution_chain"] = %obj.evolutionChain
  result["habitat"] = %obj.habitat
  result["generation"] = %obj.generation
  result["names"] = %obj.names
  result["pal_park_encounters"] = %obj.palParkEncounters
  result["form_descriptions"] = %obj.formDescriptions
  result["flavor_text_entries"] = %obj.flavorTextEntries
  result["genera"] = %obj.genera
  result["varieties"] = %obj.varieties

